const table_charts=function(){document.querySelectorAll(".table_view_charts").length>0&&document.querySelectorAll(".table_view_charts").forEach(function(e,t,r){let o=e.querySelector(".top_chart_row_found").getAttribute("data-rowcount");for(let l=0;l<o;l++){let c=[];for(let a=0;a<e.querySelectorAll("li.row_chart_"+l).length;a++)c.push(e.querySelectorAll("li.row_chart_"+l)[a].offsetHeight);let n=Math.max.apply(Math,c);for(let s=0;s<e.querySelectorAll("li.row_chart_"+l).length;s++)e.querySelectorAll("li.row_chart_"+l)[s].style.height=n+"px";let u;e.querySelectorAll(".top_chart_wrap li.row_chart_"+l).forEach(function(e,t){e.outerHTML!=u&&t>0?e.closest(".table_view_charts").querySelectorAll("li.row_chart_"+l).forEach(function(e){e.classList.add("row-is-different")}):u=e.outerHTML})}})},tableViewChars=document.querySelectorAll(".table_view_charts");function getLinksToCompareOnPage(){let e=document.querySelectorAll(".gs-comparison-icon-link-to-compare"),t="";for(let r=0;r<e.length;r++)t+=r+"--"+e[r].getAttribute("data-clear-link")+";";return t}function setNewUrlToLinksOnComparePage(e){let t=document.querySelectorAll(".gs-comparison-icon-link-to-compare");for(let r=0;r<t.length;r++)t[r].setAttribute("href",e[r]);return e}tableViewChars.forEach(function(e){e.addEventListener("click",function(e){if(e.target.classList.contains("re-compare-show-diff")||null!==e.target.closest(".re-compare-show-diff")){let t=e.target.classList.contains("re-compare-show-diff")?e.target:e.target.closest(".re-compare-show-diff");t.checked?t.closest(".table_view_charts").querySelectorAll('li[class^="row_chart"]:not(.heading_row_chart):not(.row-is-different)').forEach(function(e){e.classList.add("low-opacity")}):t.closest(".table_view_charts").querySelectorAll('li[class^="row_chart"]:not(.heading_row_chart):not(.row-is-different)').forEach(function(e){e.classList.remove("low-opacity")})}})}),document.addEventListener("DOMContentLoaded",function(e){table_charts(),document.querySelectorAll(".table_view_charts").length&&document.querySelectorAll(".table_view_charts").forEach(function(e){e.classList.remove("loading")})});let gscompareremoveicon=document.getElementsByClassName("remove-from-compare-icon");const compareNonce=gscomparevars.comparenonce;for(let i=0;i<gscompareremoveicon.length;i++)gscompareremoveicon[i].addEventListener("click",function(e){e.preventDefault();let t=e.currentTarget.closest(".top_rating_item"),r=e.currentTarget.closest(".table_view_charts").querySelectorAll("li");for(let o=0;o<r.length;o++)r[o].classList.remove("row-is-different");let l=t.dataset.compareid;t.style.opacity=".17";let c=new XMLHttpRequest;c.open("POST",gscomparevars.ajax_url,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),c.responseType="json",c.onload=function(){if(this.status>=200&&this.status<400){null!=document.querySelector(".gs-compare-icon-counter")&&document.querySelectorAll(".gs-compare-icon-counter").forEach(function(e){let t=parseInt(e.innerHTML);e.innerHTML=t-1});let e=parseInt(t.closest(".top_chart_carousel").querySelectorAll(".top_rating_item").length-1);t.remove(),table_charts();let r=this.response;if(r.links.length&&setNewUrlToLinksOnComparePage(r.links),r.currentLink.length){var o={Page:"",Url:r.currentLink};history.pushState(o,o.Page,o.Url)}0===e&&window.location.reload()}},c.onerror=function(){};let a=getLinksToCompareOnPage();c.send("action=gscomparecounter&comparenonce="+compareNonce+"&compare_count=remove&post_id="+l+"&links="+a+"&is_compare_page=1")});